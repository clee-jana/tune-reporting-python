\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder}{\section{tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder Class Reference}
\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder}\index{tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder@{tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder}}
}


Build Query String provide with dictionary of query parameters.  




Inheritance diagram for tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a6364c0e70322f6fd9fc6446285fb916f}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em Constructor a query string builder. \end{DoxyCompactList}\item 
def \hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e}{add}
\begin{DoxyCompactList}\small\item\em Add query string parameter. \end{DoxyCompactList}\item 
def \hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a7239f3a1db6e6d797aa07867b1029b21}{\-\_\-\-\_\-str\-\_\-\-\_\-}
\begin{DoxyCompactList}\small\item\em String representation of an object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\-\_\-encode}
\begin{DoxyCompactList}\small\item\em U\-R\-L Encode query string parameter. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
string \hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\-\_\-\-\_\-query} = \char`\"{}\char`\"{}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Build Query String provide with dictionary of query parameters. 



Definition at line 55 of file query\-\_\-string\-\_\-builder.\-py.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a6364c0e70322f6fd9fc6446285fb916f}{\index{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!tune::management::service::query_string_builder::QueryStringBuilder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}}
\subsubsection[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name = {\ttfamily None}, }
\item[{}]{value = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a6364c0e70322f6fd9fc6446285fb916f}


Constructor a query string builder. 

Args\-: name (str, optional)\-: query string parameter's key.\par
 value (str, optional)\-: query string parameter's value.\par


Definition at line 66 of file query\-\_\-string\-\_\-builder.\-py.


\begin{DoxyCode}
66 
67     \textcolor{keyword}{def }\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a6364c0e70322f6fd9fc6446285fb916f}{\_\_init\_\_}(self, name=None, value=None):
68         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} isinstance(name, str) \textcolor{keywordflow}{and} len(name) > 0:
69             self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e}{add}(name, value)

\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a6364c0e70322f6fd9fc6446285fb916f_cgraph}
\end{center}
\end{figure}




\subsection{Member Function Documentation}
\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a7239f3a1db6e6d797aa07867b1029b21}{\index{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}!\-\_\-\-\_\-str\-\_\-\-\_\-@{\-\_\-\-\_\-str\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-str\-\_\-\-\_\-@{\-\_\-\-\_\-str\-\_\-\-\_\-}!tune::management::service::query_string_builder::QueryStringBuilder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}}
\subsubsection[{\-\_\-\-\_\-str\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder.\-\_\-\-\_\-str\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a7239f3a1db6e6d797aa07867b1029b21}


String representation of an object. 



Definition at line 173 of file query\-\_\-string\-\_\-builder.\-py.


\begin{DoxyCode}
173 
174     \textcolor{keyword}{def }\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a7239f3a1db6e6d797aa07867b1029b21}{\_\_str\_\_}(self):
175         \textcolor{keywordflow}{return} self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\_\_query}
\end{DoxyCode}
\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\index{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}!\-\_\-encode@{\-\_\-encode}}
\index{\-\_\-encode@{\-\_\-encode}!tune::management::service::query_string_builder::QueryStringBuilder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}}
\subsubsection[{\-\_\-encode}]{\setlength{\rightskip}{0pt plus 5cm}def tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder.\-\_\-encode (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name, }
\item[{}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}


U\-R\-L Encode query string parameter. 

Args\-: name (str)\-: query string parameter's key.\par
 value (str)\-: query string parameter's value.\par


Definition at line 154 of file query\-\_\-string\-\_\-builder.\-py.


\begin{DoxyCode}
154 
155     \textcolor{keyword}{def }\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(self, name, value):
156         \textcolor{keywordflow}{try}:
157             \textcolor{keywordflow}{if} self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\_\_query}:
158                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\_\_query} += \textcolor{stringliteral}{"&"}
159 
160             param = urllib.parse.urlencode(\{name : value\})
161             self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\_\_query} += param
162         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} ex:
163             \textcolor{keywordflow}{raise} TuneSdkException(
164                 \textcolor{stringliteral}{"Failed to URL encode \{\}:\{\}: (\{0\})"}.format(
165                     name,
166                     value,
167                     str(ex)
168                     ),
169                 ex
170             )

\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9_icgraph}
\end{center}
\end{figure}


\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e}{\index{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}!add@{add}}
\index{add@{add}!tune::management::service::query_string_builder::QueryStringBuilder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}}
\subsubsection[{add}]{\setlength{\rightskip}{0pt plus 5cm}def tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder.\-add (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name, }
\item[{}]{value}
\end{DoxyParamCaption}
)}}\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e}


Add query string parameter. 

Args\-: name (str)\-: query string parameter's key.\par
 value (str)\-: query string parameter's value.\par


Definition at line 77 of file query\-\_\-string\-\_\-builder.\-py.


\begin{DoxyCode}
77 
78     \textcolor{keyword}{def }\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e}{add}(self, name, value):
79         \textcolor{keywordflow}{if} value \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
80             \textcolor{keywordflow}{return}
81 
82         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} name \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} isinstance(name, str):
83             \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{"Parameter 'name' is not defined."})
84 
85         name = name.strip()
86 
87         \textcolor{keywordflow}{if} len(name) < 1:
88             \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{"Parameter 'name' is not defined."})
89 
90         \textcolor{keywordflow}{if} isinstance(value, str):
91             value = value.strip()
92             \textcolor{keywordflow}{if} len(value) < 1:
93                 \textcolor{keywordflow}{return}
94 
95         \textcolor{keywordflow}{try}:
96             \textcolor{keywordflow}{if} name == \textcolor{stringliteral}{"fields"}:
97                 \textcolor{comment}{# Remove all spaces}
98                 fields\_value = re.sub(\textcolor{stringliteral}{r'\(\backslash\)s+'}, \textcolor{stringliteral}{''}, value)
99 
100                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(name, fields\_value)
101 
102             \textcolor{keywordflow}{elif} name == \textcolor{stringliteral}{"sort"}:
103                 \textcolor{keywordflow}{if} type(value) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} dict:
104                     \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{"Parameter 'sort' value is not a dictionary."})
105 
106                 \textcolor{keywordflow}{for} sort\_field, sort\_direction \textcolor{keywordflow}{in} value.items():
107                     sort\_direction = sort\_direction.upper()
108                     \textcolor{keywordflow}{if} sort\_direction != \textcolor{stringliteral}{"ASC"} \textcolor{keywordflow}{and} sort\_direction != \textcolor{stringliteral}{"DESC"}:
109                         \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{"Parameter 'sort' has invalid direction: '\{\}'"}.format(
110                             sort\_direction
111                             )
112                         )
113                     sort\_name = \textcolor{stringliteral}{"sort[\{\}]"}.format(sort\_field)
114                     sort\_value = sort\_direction
115                     self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(sort\_name, sort\_value)
116 
117             \textcolor{keywordflow}{elif} name == \textcolor{stringliteral}{"filter"}:
118                 filter\_value = re.sub(\textcolor{stringliteral}{r'\(\backslash\)s+'}, \textcolor{stringliteral}{' '}, value)
119 
120                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(name, filter\_value)
121 
122             \textcolor{keywordflow}{elif} name == \textcolor{stringliteral}{"group"}:
123                 group\_value = re.sub(\textcolor{stringliteral}{r'\(\backslash\)s+'}, \textcolor{stringliteral}{''}, value)
124 
125                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(name, group\_value)
126 
127             \textcolor{keywordflow}{elif} isinstance(value, bool):
128                 \textcolor{keywordflow}{if} value == \textcolor{keyword}{False}:
129                     bool\_value = \textcolor{stringliteral}{"false"}
130                 \textcolor{keywordflow}{elif} value == \textcolor{keyword}{True}:
131                     bool\_value = \textcolor{stringliteral}{"true"}
132 
133                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(name, bool\_value)
134 
135             \textcolor{keywordflow}{else}:
136 
137                 self.\hyperlink{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a0b965e40a56591054bb62d0178bbe8b9}{\_encode}(name, value)
138         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} ex:
139             \textcolor{keywordflow}{raise} TuneSdkException(
140                 \textcolor{stringliteral}{"Failed to add query string parameter (\{0\},\{1\}): \{2\}"}.format(
141                     name,
142                     value,
143                     str(ex)
144                     ),
145                 ex
146             )

\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a52936a3c60cbe5dc990ece2561c4d69e_icgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\hypertarget{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}{\index{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}!\-\_\-\-\_\-query@{\-\_\-\-\_\-query}}
\index{\-\_\-\-\_\-query@{\-\_\-\-\_\-query}!tune::management::service::query_string_builder::QueryStringBuilder@{tune\-::management\-::service\-::query\-\_\-string\-\_\-builder\-::\-Query\-String\-Builder}}
\subsubsection[{\-\_\-\-\_\-query}]{\setlength{\rightskip}{0pt plus 5cm}string tune.\-management.\-service.\-query\-\_\-string\-\_\-builder.\-Query\-String\-Builder.\-\_\-\-\_\-query = \char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}}\label{classtune_1_1management_1_1service_1_1query__string__builder_1_1QueryStringBuilder_a51080f1efb7e53b5df7c2ee223f73660}


Definition at line 57 of file query\-\_\-string\-\_\-builder.\-py.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
tune/management/service/\hyperlink{query__string__builder_8py}{query\-\_\-string\-\_\-builder.\-py}\end{DoxyCompactItemize}
